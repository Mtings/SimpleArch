Http原理和具体工作机制-[详解](https://juejin.cn/post/6844903872935247886)
=====
## Http原理
Http是一种应用层协议，即超文本传送协议(Hypertext Transfer Protocol )，是Web联网的基础，也是手机联网常用的协议之一，
HTTP协议是建立在TCP协议之上的一种应用。HTTP连接最显著的特点是客户端发送的每次请求都需要服务器回送响应，在请求结束后，
会主动释放连接。从建立连接到关闭连接的过程称为“一次连接”。
1）在HTTP 1.0中，客户端的每次请求都要求建立一次单独的连接，在处理完本次请求后，就自动释放连接。
 
2）在HTTP 1.1中则可以在一次连接中处理多个请求，并且多个请求可以重叠进行，不需要等待一个请求结束后再发送下一个请求。
 
由于HTTP在每次请求结束后都会主动释放连接，因此HTTP连接是一种“短连接”，要保持客户端程序的在线状态，需要不断地向服务器发起连接
请求。通常的做法是即时不需要获得任何数据，客户端也保持每隔一段固定的时间向服务器发送一次“保持连接”的请求，服务器在收到该请求后对客户端进行回
复，表明知道客户端“在线”。若服务器长时间无法收到客户端的请求，则认为客户端“下线”，若客户端长时间无法收到服务器的回复，则认为网络已经断开。

## Http的请求行
* 请求行包括 请求方法Method、统一资源标志符Request-URI、HTTP协议版本HTTP-Version
例如：GET www.baidu.com HTTP/1.1  

## 各种请求方法的含义
1) GET: 请求指定的页面信息，并返回实体主体。
2) HEAD: 类似于get请求，只不过返回的响应中没有具体的内容，用于获取报头
3) POST: 向指定资源提交数据进行处理请求（例如提交表单或者上传文件）。数据被包含在请求体中。  
POST请求可能会导致新的资源的建立和/或已有资源的修改。
4) PUT: 从客户端向服务器传送的数据取代指定的文档的内容。
5) DELETE: 请求服务器删除指定的页面。
## 各种状态码的意义
### 状态码划分：
100〜199的状态码是 HTTP / 1.1 向协议中引入了信息性状态码；
200〜299的状态码表示成功；
300〜399的状态码指资源重定向；
400〜499的状态码指客户端请求出错；
500〜599的状态码指服务端出错；
| 状态码      | 说明              |
| -----      | -----             |
| 200        | 响应成功           |
| 302        | 跳转，跳转地址通过响应头中的位置属性指定（JSP中Forward和Redirect之间的区别）|
| 400        | 客户端请求有语法错误，不能被服务器识别              |
| 403	     | 服务器接收到请求，但是拒绝提供服务（认证失败）       |
| 404	     | 请求资源不存在      |
| 500	     | 服务器内部错误      |

## Http的Header和Body的详解
* Header请求头部: 请求头部为请求报文添加了一些附加信息，由“名/值”对组成，每行一对，名和值之间使用冒号分隔。  
并且，在请求头部的最后会有一个空行，表示请求头部结束，这一行必不可少。
| 请求头部字段名          | 说明                  |
| -----             | -----                 |
| Accept            | 用户代理可以处理的媒体类型|
| Accept-Encoding   | 通知服务端可以发送的数据压缩格式 |
| Accept-Charset	| 通知服务端可以发送的编码格式   |
| Accept-Language	| 通知服务端可以发送的语言  |
| Authorization     | Web认证信息            |
| Host	            | 请求资源所在的服务器     |
| if-Modified-Since	| 比较资源的更新时间       |
| User-Agent	    | 接受请求的服务器地址，可以是IP:端口号，也可以是域名|
* Header响应头部
| 响应头部字段名       | 说明                  |
| -----             | -----                 |
| Server            | 服务器应用程序软件的名称和版本 |
| Content-Type	    | 响应正文的类型（是图片还是二进制字符串）例如：application/json;charset=UTF-8 |
| Content-Length	| 响应正文长度            |
| Content-Charset	| 响应正文使用的编码       |
| Content-Encoding	| 响应正文使用的数据压缩格式 |
| Content-Language	| 响应正文使用的语言       |

* Body: 请求体body一般用来存储post的参数和参数数据,body常用的有以下几种数据格式
1) multipart/form-data : 以表单形式提交，主要是上传文件用它
2) application/x-www-from-urlencoded : 以键值对的数据格式提交，当action为post时，浏览器将form数据封装到http body中，  
然后发送server。这个格式不能提交文件
3) application/json: json传参
4) application/xml: xml传参




